{"message":"Not Found","documentation_url":"https://docs.github.com/rest/git/refs#get-all-references-in-a-namespace","status":"404","name":"ffcfccfcacfc","url":"http://223.70.92.38:28080/main-app/dashboard","showName":"æ°‘å•†èˆªå¤©åº”ç”¨","appid":"com.hgd.app","icon":"","iconPath":"","iconRound":true,"state":true,"single":true,"injectJq":true,"tauriApi":false,"devbug":true,"version":"1.2.6","preview":"Android","platform":["1-1"],"width":915,"height":412,"desc":"","jsFile":[],"filterCss":"","customJs":"// very important, if you don't know what it is, don't touch it\n// éå¸¸é‡è¦ï¼Œä¸æ‡‚ä»£ç ä¸è¦åŠ¨ï¼Œè¿™é‡Œå¯ä»¥è§£å†³80%çš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ç”Ÿäº§1000+çš„bug\n\n// ========== WebView ç¯å¢ƒæ£€æµ‹ ==========\n/**\n * @description æ£€æµ‹æ˜¯å¦åœ¨ WebView ç¯å¢ƒä¸­\n * @returns {boolean}\n */\nconst isInWebView = () => {\n    const ua = navigator.userAgent.toLowerCase()\n    \n    // æ£€æµ‹å¸¸è§çš„ WebView æ ‡è¯†\n    const webViewPatterns = [\n        /micromessenger/i,      // å¾®ä¿¡ WebView\n        /miniprogram/i,         // å¾®ä¿¡å°ç¨‹åº\n        /wechatdevtools/i,      // å¾®ä¿¡å¼€å‘è€…å·¥å…·\n        /dingtalk/i,            // é’‰é’‰\n        /alipay/i,              // æ”¯ä»˜å®\n        /quark/i,               // Quark\n        /huawei/i,              // åä¸º\n        /xiaomi/i,              // å°ç±³\n        /taobao/i,              // æ·˜å®\n        /weibo/i,               // å¾®åš\n        /qq\\//i,                // QQ\n        /mqqbrowser/i,          // QQæµè§ˆå™¨\n        /ucbrowser/i,           // UCæµè§ˆå™¨\n    ]\n    \n    // æ£€æŸ¥ UA æ˜¯å¦åŒ¹é… WebView ç‰¹å¾\n    const isWebViewUA = webViewPatterns.some(pattern => pattern.test(ua))\n    \n    // æ£€æŸ¥æ˜¯å¦å­˜åœ¨ç‰¹å®šçš„å…¨å±€å¯¹è±¡ï¼ˆå¦‚ Pakeã€Tauri ç­‰æ¡Œé¢ WebViewï¼‰\n    const hasPakeAPI = typeof window.pake !== 'undefined'\n    const hasTauriAPI = typeof window.__TAURI__ !== 'undefined'\n    const hasElectronAPI = typeof window.electron !== 'undefined' || typeof window.require !== 'undefined'\n    \n    return isWebViewUA || hasPakeAPI || hasTauriAPI || hasElectronAPI\n}\n\n// æ£€æµ‹ WebView ç¯å¢ƒï¼ˆå…¨å±€å˜é‡ï¼‰\nconst isWebViewEnvironment = isInWebView()\nconsole.log('[ç¯å¢ƒæ£€æµ‹] æ˜¯å¦åœ¨ WebView ä¸­:', isWebViewEnvironment)\n\n// ä¿å­˜åŸå§‹çš„ window.open å¼•ç”¨\nconst originalWindowOpen = window.open\n\n/**\n * @description åœ¨ WebView ä¸­æ‰“å¼€ URLï¼ˆå°è¯•æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼‰\n * @param {string} url - è¦æ‰“å¼€çš„ URL\n * @param {string} target - ç›®æ ‡çª—å£\n * @param {string} features - çª—å£ç‰¹æ€§\n * @returns {Window|null}\n */\nconst openUrlInWebView = (url, target, features) => {\n    console.log('[WebView] æ£€æµ‹åˆ° WebView ç¯å¢ƒï¼Œå°è¯•æ‰“å¼€æ–°æ ‡ç­¾é¡µ')\n    \n    // 1. Pake WebViewï¼ˆæ¡Œé¢ WebView æ¡†æ¶ï¼‰\n    if (typeof window.pake !== 'undefined' && window.pake.openUrl) {\n        console.log('[WebView] ä½¿ç”¨ Pake API æ‰“å¼€ URL')\n        try {\n            window.pake.openUrl(url)\n            return null\n        } catch (e) {\n            console.warn('[WebView] Pake API è°ƒç”¨å¤±è´¥:', e)\n        }\n    }\n    \n    // 2. Tauri WebViewï¼ˆæ¡Œé¢ WebView æ¡†æ¶ï¼‰\n    if (typeof window.__TAURI__ !== 'undefined' && window.__TAURI__.shell) {\n        console.log('[WebView] ä½¿ç”¨ Tauri API æ‰“å¼€ URL')\n        try {\n            window.__TAURI__.shell.open(url)\n            return null\n        } catch (e) {\n            console.warn('[WebView] Tauri API è°ƒç”¨å¤±è´¥:', e)\n        }\n    }\n    \n    // 3. å¾®ä¿¡å°ç¨‹åº WebView\n    if (typeof wx !== 'undefined' && wx.miniProgram) {\n        console.log('[WebView] æ£€æµ‹åˆ°å¾®ä¿¡å°ç¨‹åºç¯å¢ƒ')\n        try {\n            wx.miniProgram.navigateTo({\n                url: `/pages/webview/webview?url=${encodeURIComponent(url)}`\n            })\n            return null\n        } catch (e) {\n            console.warn('[WebView] å¾®ä¿¡å°ç¨‹åº API è°ƒç”¨å¤±è´¥:', e)\n        }\n    }\n    \n    // 4. é€šç”¨ JSBridgeï¼ˆå¦‚æœå­˜åœ¨ï¼‰\n    if (typeof window.bridge !== 'undefined' && window.bridge.openUrl) {\n        console.log('[WebView] ä½¿ç”¨ JSBridge æ‰“å¼€ URL')\n        try {\n            window.bridge.openUrl(url)\n            return null\n        } catch (e) {\n            console.warn('[WebView] JSBridge è°ƒç”¨å¤±è´¥:', e)\n        }\n    }\n    \n    // 5. å°è¯•ä½¿ç”¨åŸç”Ÿ window.openï¼ˆæŸäº› WebView æ”¯æŒï¼‰\n    if (target !== '_self') {\n        console.log('[WebView] å°è¯•ä½¿ç”¨åŸç”Ÿ window.open')\n        try {\n            const newWindow = originalWindowOpen.call(window, url, target || '_blank', features)\n            if (newWindow && !newWindow.closed) {\n                console.log('[WebView] âœ“ åŸç”Ÿ window.open æˆåŠŸ')\n                return newWindow\n            }\n            console.warn('[WebView] åŸç”Ÿ window.open è¢«é˜»æ­¢æˆ–å¤±è´¥')\n        } catch (e) {\n            console.warn('[WebView] åŸç”Ÿ window.open è°ƒç”¨å¤±è´¥:', e)\n        }\n    }\n    \n    // 6. å°è¯•åˆ›å»º <a> æ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»\n    if (target !== '_self') {\n        console.log('[WebView] å°è¯•ä½¿ç”¨ <a> æ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»')\n        try {\n            const link = document.createElement('a')\n            link.href = url\n            link.target = '_blank'\n            link.rel = 'noopener noreferrer'\n            link.style.display = 'none'\n            document.body.appendChild(link)\n            link.click()\n            \n            setTimeout(() => {\n                try {\n                    document.body.removeChild(link)\n                } catch (e) {}\n            }, 100)\n            \n            console.log('[WebView] âœ“ <a> æ ‡ç­¾ç‚¹å‡»å®Œæˆ')\n            return null\n        } catch (e) {\n            console.warn('[WebView] <a> æ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»å¤±è´¥:', e)\n        }\n    }\n    \n    // 7. ç»ˆæå…œåº•æ–¹æ¡ˆï¼šåœ¨å½“å‰çª—å£è·³è½¬\n    console.warn('[WebView] âš ï¸ æ‰€æœ‰æ–°æ ‡ç­¾é¡µæ‰“å¼€æ–¹å¼å‡å¤±è´¥ï¼Œå°†åœ¨å½“å‰çª—å£è·³è½¬')\n    return null // è¿”å› nullï¼Œè®©è°ƒç”¨æ–¹ä½¿ç”¨ safeNavigate\n}\n\n/**\n * @description å®‰å…¨è·³è½¬å‡½æ•°ï¼ˆåœ¨å½“å‰çª—å£è·³è½¬ï¼‰ï¼Œé’ˆå¯¹ WebView å’Œå¾®å‰ç«¯ iframe ä¼˜åŒ–\n * @param {string} url ç›®æ ‡ URL\n * @param {Window} targetWindow ç›®æ ‡ window å¯¹è±¡\n * @returns {void}\n */\nfunction safeNavigate(url, targetWindow) {\n    if (!url || typeof url !== 'string') {\n        console.warn('[safeNavigate] æ— æ•ˆçš„ URL:', url)\n        return\n    }\n    \n    // ä½¿ç”¨é¡¶å±‚ windowï¼ˆè·³å‡º iframeï¼‰\n    const win = targetWindow || window.top || window.parent || window\n    const isTopWindow = win === window\n    \n    console.log('[safeNavigate] å‡†å¤‡åœ¨å½“å‰çª—å£è·³è½¬:', url)\n    console.log('[safeNavigate] ä½¿ç”¨ window:', isTopWindow ? 'å½“å‰çª—å£' : 'é¡¶å±‚çª—å£ï¼ˆå·²è·³å‡º iframeï¼‰')\n    \n    // ä½¿ç”¨å¼‚æ­¥æ–¹å¼ç¡®ä¿åœ¨ WebView ä¸­æ‰§è¡Œ\n    setTimeout(() => {\n        console.log('[safeNavigate] å¼€å§‹æ‰§è¡Œè·³è½¬')\n        \n        // ç­–ç•¥1: ä½¿ç”¨ location.replaceï¼ˆæ¨èï¼Œä¸ä¿ç•™å†å²ï¼‰\n        try {\n            win.location.replace(url)\n            console.log('[safeNavigate] âœ“ ä½¿ç”¨ location.replace è·³è½¬æˆåŠŸ')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] âœ— location.replace å¤±è´¥:', e)\n        }\n        \n        // ç­–ç•¥2: ä½¿ç”¨ location.assign\n        try {\n            win.location.assign(url)\n            console.log('[safeNavigate] âœ“ ä½¿ç”¨ location.assign è·³è½¬æˆåŠŸ')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] âœ— location.assign å¤±è´¥:', e)\n        }\n        \n        // ç­–ç•¥3: ç›´æ¥è®¾ç½® location.href\n        try {\n            win.location.href = url\n            console.log('[safeNavigate] âœ“ ä½¿ç”¨ location.href è·³è½¬æˆåŠŸ')\n            return\n        } catch (e) {\n            console.warn('[safeNavigate] âœ— location.href å¤±è´¥:', e)\n        }\n        \n        // ç­–ç•¥4: åˆ›å»º <a> æ ‡ç­¾å¹¶æ¨¡æ‹Ÿç‚¹å‡»\n        try {\n            const targetDoc = win.document || document\n            const anchor = targetDoc.createElement('a')\n            anchor.href = url\n            anchor.style.display = 'none'\n            targetDoc.body.appendChild(anchor)\n            anchor.click()\n            \n            setTimeout(() => {\n                try {\n                    targetDoc.body.removeChild(anchor)\n                } catch (e) {}\n            }, 100)\n            \n            console.log('[safeNavigate] âœ“ ä½¿ç”¨æ¨¡æ‹Ÿç‚¹å‡»è·³è½¬')\n        } catch (e) {\n            console.error('[safeNavigate] âœ— æ‰€æœ‰è·³è½¬ç­–ç•¥å‡å¤±è´¥:', e)\n        }\n    }, 10)\n}\n\n/**\n * @description ä¸ºæŒ‡å®š window å¯¹è±¡é‡å†™ window.open å¹¶æ³¨å†Œç‚¹å‡»äº‹ä»¶\n * @param {Window} targetWindow è¦é‡å†™çš„ window å¯¹è±¡\n * @param {Document} targetDocument ç›®æ ‡ document å¯¹è±¡\n * @param {string} label æ—¥å¿—æ ‡ç­¾\n * @returns {boolean} æ˜¯å¦é‡å†™æˆåŠŸ\n */\nfunction overrideWindowOpen(targetWindow, targetDocument, label) {\n    // æ£€æŸ¥å‚æ•°æœ‰æ•ˆæ€§\n    if (!targetWindow || !targetDocument) {\n        console.warn(`[overrideWindowOpen] targetWindow æˆ– targetDocument ä¸ºç©ºï¼Œè·³è¿‡`)\n        return false\n    }\n    \n    // é˜²æ­¢é‡å¤é‡å†™\n    if (targetWindow.__vcOpenOverridden) {\n        console.log(`[overrideWindowOpen] ${label} å·²é‡å†™ï¼Œè·³è¿‡`)\n        return false\n    }\n    \n    try {\n        // æ ‡è®°å·²é‡å†™\n        targetWindow.__vcOpenOverridden = true\n        \n        // ä¿å­˜åŸå§‹ window.openï¼ˆé’ˆå¯¹æ¯ä¸ª window å¯¹è±¡ï¼‰\n        const originalOpen = targetWindow.open\n        \n        // 1. é‡å†™ window.open\n        targetWindow.open = function (url, target, features) {\n            console.log(`[window.open ${label}] è¢«è°ƒç”¨ ===>`, { url, target, features })\n            \n            if (!url) {\n                console.warn(`[window.open ${label}] URL ä¸ºç©º`)\n                return null\n            }\n            \n            const urlStr = String(url)\n            const topWindow = targetWindow.top || targetWindow.parent || targetWindow\n            \n            // åˆ¤æ–­æ˜¯å¦éœ€è¦åœ¨å½“å‰çª—å£è·³è½¬\n            if (target === '_self' || target === '_parent' || target === '_top') {\n                console.log(`[window.open ${label}] target=${target}ï¼Œåœ¨å½“å‰çª—å£è·³è½¬`)\n                safeNavigate(urlStr, topWindow)\n                return null\n            }\n            \n            // å°è¯•æ‰“å¼€æ–°æ ‡ç­¾é¡µ\n            console.log(`[window.open ${label}] target=${target || '_blank'}ï¼Œå°è¯•æ‰“å¼€æ–°æ ‡ç­¾é¡µ`)\n            \n            // åœ¨ WebView ç¯å¢ƒä¸­ä½¿ç”¨é€‚é…æ–¹æ¡ˆ\n            if (isWebViewEnvironment) {\n                console.log(`[window.open ${label}] WebView ç¯å¢ƒï¼Œä½¿ç”¨é€‚é…æ–¹æ¡ˆ`)\n                const result = openUrlInWebView(urlStr, target || '_blank', features)\n                if (result === null) {\n                    // openUrlInWebView è¿”å› null è¡¨ç¤ºéœ€è¦é™çº§å¤„ç†\n                    console.warn(`[window.open ${label}] WebView æ‰“å¼€æ–°æ ‡ç­¾é¡µå¤±è´¥ï¼Œé™çº§åœ¨å½“å‰çª—å£è·³è½¬`)\n                    safeNavigate(urlStr, topWindow)\n                }\n                return result\n            }\n            \n            // é WebView ç¯å¢ƒï¼Œä½¿ç”¨åŸç”Ÿ window.open\n            console.log(`[window.open ${label}] æµè§ˆå™¨ç¯å¢ƒï¼Œä½¿ç”¨åŸç”Ÿ window.open`)\n            try {\n                const newWindow = originalOpen.call(targetWindow, urlStr, target || '_blank', features)\n                if (newWindow && !newWindow.closed) {\n                    console.log(`[window.open ${label}] âœ“ åŸç”Ÿ window.open æˆåŠŸ`)\n                    return newWindow\n                }\n                \n                // window.open è¢«é˜»æ­¢ï¼Œå°è¯•é™çº§å¤„ç†\n                console.warn(`[window.open ${label}] åŸç”Ÿ window.open è¢«é˜»æ­¢ï¼Œå°è¯• <a> æ ‡ç­¾æ–¹å¼`)\n                const link = targetDocument.createElement('a')\n                link.href = urlStr\n                link.target = '_blank'\n                link.rel = 'noopener noreferrer'\n                link.style.display = 'none'\n                targetDocument.body.appendChild(link)\n                link.click()\n                setTimeout(() => {\n                    try {\n                        targetDocument.body.removeChild(link)\n                    } catch (e) {}\n                }, 100)\n                console.log(`[window.open ${label}] âœ“ ä½¿ç”¨ <a> æ ‡ç­¾æ–¹å¼`)\n                return null\n            } catch (e) {\n                console.error(`[window.open ${label}] âœ— åŸç”Ÿ window.open å¤±è´¥:`, e)\n                // æœ€ç»ˆé™çº§ï¼šåœ¨å½“å‰çª—å£è·³è½¬\n                console.warn(`[window.open ${label}] é™çº§åœ¨å½“å‰çª—å£è·³è½¬`)\n                safeNavigate(urlStr, topWindow)\n                return null\n            }\n        }\n        \n        console.log(`[overrideWindowOpen] âœ“ å·²é‡å†™ ${label} çš„ window.open`)\n        \n        // 2. ä¸º iframe å†…éƒ¨æ³¨å†Œç‚¹å‡»äº‹ä»¶ç›‘å¬ï¼ˆå…³é”®ï¼ï¼‰\n        if (label !== 'main') {\n            targetDocument.addEventListener('click', (e) => {\n                const origin = e.target.closest('a')\n                const isBaseTargetBlank = targetDocument.querySelector('head base[target=\"_blank\"]')\n                \n                console.log(`[hookClick ${label}] origin:`, origin, 'isBaseTargetBlank:', isBaseTargetBlank)\n                \n                if (\n                    (origin && origin.href && origin.target === '_blank') ||\n                    (origin && origin.href && isBaseTargetBlank)\n                ) {\n                    e.preventDefault()\n                    e.stopPropagation() // é˜»æ­¢äº‹ä»¶å†’æ³¡\n                    console.log(`[hookClick ${label}] æ‹¦æˆª iframe å†…é“¾æ¥ç‚¹å‡»:`, origin.href)\n                    \n                    // å°è¯•æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼ˆè€Œä¸æ˜¯æ€»æ˜¯åœ¨å½“å‰çª—å£è·³è½¬ï¼‰\n                    const topWindow = targetWindow.top || targetWindow.parent || targetWindow\n                    \n                    // åœ¨ WebView ç¯å¢ƒä¸­ä½¿ç”¨é€‚é…æ–¹æ¡ˆ\n                    if (isWebViewEnvironment) {\n                        const result = openUrlInWebView(origin.href, '_blank')\n                        if (result === null) {\n                            // é™çº§å¤„ç†\n                            console.warn(`[hookClick ${label}] WebView æ‰“å¼€æ–°æ ‡ç­¾é¡µå¤±è´¥ï¼Œé™çº§åœ¨å½“å‰çª—å£è·³è½¬`)\n                            safeNavigate(origin.href, topWindow)\n                        }\n                    } else {\n                        // é WebView ç¯å¢ƒï¼Œå°è¯•ä½¿ç”¨åŸç”Ÿæ–¹å¼\n                        try {\n                            const link = targetDocument.createElement('a')\n                            link.href = origin.href\n                            link.target = '_blank'\n                            link.rel = 'noopener noreferrer'\n                            link.style.display = 'none'\n                            targetDocument.body.appendChild(link)\n                            link.click()\n                            setTimeout(() => {\n                                try {\n                                    targetDocument.body.removeChild(link)\n                                } catch (e) {}\n                            }, 100)\n                            console.log(`[hookClick ${label}] âœ“ ä½¿ç”¨ <a> æ ‡ç­¾æ‰“å¼€æ–°æ ‡ç­¾é¡µ`)\n                        } catch (e) {\n                            console.error(`[hookClick ${label}] <a> æ ‡ç­¾å¤±è´¥ï¼Œé™çº§å¤„ç†:`, e)\n                            safeNavigate(origin.href, topWindow)\n                        }\n                    }\n                }\n            }, { capture: true })\n            \n            console.log(`[overrideWindowOpen] âœ“ å·²ä¸º ${label} æ³¨å†Œç‚¹å‡»äº‹ä»¶`)\n        }\n        \n        return true\n    } catch (e) {\n        console.error(`[overrideWindowOpen] âœ— é‡å†™ ${label} å¤±è´¥:`, e)\n        return false\n    }\n}\n\n/**\n * @description ç›‘å¬å¹¶å¤„ç†æ‰€æœ‰ iframeï¼ˆå¾®å‰ç«¯æ¶æ„æ ¸å¿ƒï¼‰\n * @returns {object} è¿”å›æ§åˆ¶å¯¹è±¡ï¼ŒåŒ…å« stop æ–¹æ³•ç”¨äºæ¸…ç†èµ„æº\n */\nfunction hookAllIframes() {\n    console.log('[hookAllIframes] å¼€å§‹ç›‘å¬ iframe')\n    \n    // ä½¿ç”¨ WeakMap è¿½è¸ªå·²å¤„ç†çš„ iframeï¼Œé¿å…é‡å¤å¤„ç†\n    const processedIframes = new WeakMap()\n    let iframeCounter = 0\n    \n    // å¤„ç†å·²å­˜åœ¨çš„ iframe\n    function processIframes() {\n        const iframes = document.querySelectorAll('iframe')\n        console.log('[hookAllIframes] æ‰«æåˆ°', iframes.length, 'ä¸ª iframe')\n        \n        iframes.forEach((iframe) => {\n            try {\n                // æ£€æŸ¥æ˜¯å¦å¯ä»¥è®¿é—® contentWindowï¼ˆæ’é™¤è·¨åŸŸ iframeï¼‰\n                if (!iframe.contentWindow) {\n                    return\n                }\n                \n                // å°è¯•è®¿é—® contentDocument æ¥æ£€æµ‹è·¨åŸŸ\n                const canAccess = (() => {\n                    try {\n                        // è®¿é—® contentDocument ä¼šåœ¨è·¨åŸŸæ—¶æŠ›å‡ºå¼‚å¸¸\n                        return !!iframe.contentDocument\n                    } catch (e) {\n                        return false\n                    }\n                })()\n                \n                if (!canAccess) {\n                    // è·¨åŸŸ iframe åªè®°å½•ä¸€æ¬¡\n                    if (!processedIframes.has(iframe)) {\n                        console.warn(`[hookAllIframes] iframe è·¨åŸŸï¼Œæ— æ³•æ³¨å…¥`)\n                        processedIframes.set(iframe, 'cross-origin')\n                    }\n                    return\n                }\n                \n                // æ£€æŸ¥æ˜¯å¦å·²æ³¨å†Œè¿‡ï¼ˆç”¨äºåˆ†é…å”¯ä¸€ IDï¼‰\n                const alreadyRegistered = processedIframes.has(iframe)\n                \n                // ä¸ºæ–° iframe åˆ†é… ID\n                let iframeId\n                if (alreadyRegistered) {\n                    iframeId = processedIframes.get(iframe)\n                    // è·³è¿‡é”™è¯¯çŠ¶æ€å’Œè·¨åŸŸçŠ¶æ€\n                    if (iframeId === 'error' || iframeId === 'cross-origin') {\n                        return\n                    }\n                } else {\n                    iframeId = `iframe-${iframeCounter++}`\n                }\n                \n                // å¤„ç† iframe çš„å‡½æ•°\n                const injectToIframe = () => {\n                    if (!iframe.contentWindow || !iframe.contentDocument) {\n                        console.warn(`[hookAllIframes] ${iframeId} contentWindow æˆ– contentDocument ä¸ºç©º`)\n                        return false\n                    }\n                    \n                    // æ£€æŸ¥æ˜¯å¦éœ€è¦é‡æ–°æ³¨å…¥ï¼ˆiframe å†…éƒ¨å¯èƒ½å‘ç”Ÿäº†è·¯ç”±è·³è½¬ï¼‰\n                    const needsReinject = !iframe.contentWindow.__vcOpenOverridden\n                    \n                    if (needsReinject) {\n                        console.log(`[hookAllIframes] ${iframeId} éœ€è¦${processedIframes.has(iframe) ? 'é‡æ–°' : ''}æ³¨å…¥`)\n                    }\n                    \n                    if (overrideWindowOpen(iframe.contentWindow, iframe.contentDocument, iframeId)) {\n                        processedIframes.set(iframe, iframeId)\n                        console.log(`[hookAllIframes] âœ“ ${iframeId} å·²å®Œæˆæ³¨å…¥`)\n                        return true\n                    }\n                    return false\n                }\n                \n                // æ£€æŸ¥ iframe æ˜¯å¦å·²åŠ è½½\n                if (iframe.contentDocument && iframe.contentDocument.readyState === 'complete') {\n                    // å·²åŠ è½½å®Œæˆï¼Œç«‹å³é‡å†™\n                    injectToIframe()\n                } else {\n                    // æœªåŠ è½½å®Œæˆï¼Œç­‰å¾… load äº‹ä»¶\n                    processedIframes.set(iframe, 'loading')\n                }\n                \n                // ç›‘å¬ iframe çš„ load äº‹ä»¶ï¼ˆæ¯æ¬¡ iframe å¯¼èˆªéƒ½ä¼šè§¦å‘ï¼‰\n                // æ³¨æ„ï¼šä¸ä½¿ç”¨ { once: true }ï¼Œå› ä¸ºéœ€è¦ç›‘å¬ iframe å†…éƒ¨çš„æ¯æ¬¡è·¯ç”±è·³è½¬\n                iframe.addEventListener('load', () => {\n                    console.log(`[hookAllIframes] ${iframeId} load äº‹ä»¶è§¦å‘`)\n                    \n                    // å»¶è¿Ÿæ³¨å…¥ï¼Œç¡®ä¿ iframe å†…å®¹å®Œå…¨åŠ è½½\n                    setTimeout(() => {\n                        try {\n                            // æ¯æ¬¡ load éƒ½å°è¯•é‡æ–°æ³¨å…¥ï¼ˆå¤„ç† iframe å†…éƒ¨è·¯ç”±è·³è½¬ï¼‰\n                            // å¦‚æœå·²é‡å†™è¿‡ï¼ŒoverrideWindowOpen ä¼šè‡ªåŠ¨è·³è¿‡\n                            injectToIframe()\n                        } catch (e) {\n                            console.warn(`[hookAllIframes] ${iframeId} æ³¨å…¥å¤±è´¥:`, e.message)\n                        }\n                    }, 50)\n                })\n            } catch (e) {\n                // æ•è·è·¨åŸŸç­‰å¼‚å¸¸\n                console.warn(`[hookAllIframes] å¤„ç† iframe å¤±è´¥:`, e.message)\n                processedIframes.set(iframe, 'error')\n            }\n        })\n    }\n    \n    // ç«‹å³å¤„ç†ç°æœ‰ iframe\n    processIframes()\n    \n    // ä½¿ç”¨ MutationObserver ç›‘å¬æ–°å¢ iframe\n    const observer = new MutationObserver((mutations) => {\n        let hasNewIframe = false\n        \n        mutations.forEach((mutation) => {\n            mutation.addedNodes.forEach((node) => {\n                if (node.tagName === 'IFRAME') {\n                    hasNewIframe = true\n                } else if (node.querySelectorAll) {\n                    const iframes = node.querySelectorAll('iframe')\n                    if (iframes.length > 0) {\n                        hasNewIframe = true\n                    }\n                }\n            })\n        })\n        \n        if (hasNewIframe) {\n            console.log('[hookAllIframes] æ£€æµ‹åˆ°æ–° iframeï¼Œé‡æ–°æ‰«æ')\n            processIframes()\n        }\n    })\n    \n    observer.observe(document.documentElement, {\n        childList: true,\n        subtree: true\n    })\n    \n    // å®šæ—¶æ£€æŸ¥ï¼ˆæ£€æµ‹ iframe å†…éƒ¨çš„è·¯ç”±å˜åŒ–ï¼‰\n    const intervalId = setInterval(() => {\n        const iframes = document.querySelectorAll('iframe')\n        \n        iframes.forEach((iframe) => {\n            try {\n                // æ£€æŸ¥æ˜¯å¦å¯è®¿é—®ä¸”éœ€è¦é‡æ–°æ³¨å…¥\n                if (iframe.contentWindow && iframe.contentDocument) {\n                    const needsReinject = !iframe.contentWindow.__vcOpenOverridden\n                    \n                    if (needsReinject) {\n                        console.log('[hookAllIframes] æ£€æµ‹åˆ° iframe å†…éƒ¨è·¯ç”±å˜åŒ–ï¼Œé‡æ–°æ‰«æ')\n                        processIframes()\n                        return // åªè§¦å‘ä¸€æ¬¡é‡æ–°æ‰«æ\n                    }\n                }\n            } catch (e) {\n                // è·¨åŸŸæˆ–å…¶ä»–å¼‚å¸¸ï¼Œå¿½ç•¥\n            }\n        })\n    }, 2000) // æ¯ 2 ç§’æ£€æŸ¥ä¸€æ¬¡\n    \n    console.log('[hookAllIframes] âœ“ ç›‘å¬å™¨å·²å¯åŠ¨')\n    \n    // è¿”å›æ§åˆ¶å¯¹è±¡ï¼Œç”¨äºæ¸…ç†èµ„æº\n    return {\n        stop: () => {\n            observer.disconnect()\n            clearInterval(intervalId)\n            console.log('[hookAllIframes] âœ“ ç›‘å¬å™¨å·²åœæ­¢')\n        }\n    }\n}\n\n/**\n * @description å¤„ç†ä¸»åº”ç”¨çš„é“¾æ¥ç‚¹å‡»äº‹ä»¶\n * @param {Event} e ç‚¹å‡»äº‹ä»¶å¯¹è±¡\n */\nconst hookClick = (e) => {\n    const origin = e.target.closest('a')\n    const isBaseTargetBlank = document.querySelector(\n        'head base[target=\"_blank\"]'\n    )\n    console.log('[hookClick main] origin:', origin, 'isBaseTargetBlank:', isBaseTargetBlank)\n    \n    if (\n        (origin && origin.href && origin.target === '_blank') ||\n        (origin && origin.href && isBaseTargetBlank)\n    ) {\n        e.preventDefault()\n        console.log('[hookClick main] æ‹¦æˆªæ–°æ ‡ç­¾é¡µé“¾æ¥ç‚¹å‡»ï¼Œç›®æ ‡:', origin.href)\n        \n        // åœ¨ WebView ç¯å¢ƒä¸­ä½¿ç”¨é€‚é…æ–¹æ¡ˆ\n        if (isWebViewEnvironment) {\n            const result = openUrlInWebView(origin.href, '_blank')\n            if (result === null) {\n                // é™çº§å¤„ç†ï¼šåœ¨å½“å‰çª—å£è·³è½¬\n                console.warn('[hookClick main] WebView æ‰“å¼€æ–°æ ‡ç­¾é¡µå¤±è´¥ï¼Œé™çº§åœ¨å½“å‰çª—å£è·³è½¬')\n                safeNavigate(origin.href)\n            }\n        } else {\n            // é WebView ç¯å¢ƒï¼Œå°è¯•ä½¿ç”¨åŸç”Ÿæ–¹å¼\n            try {\n                const link = document.createElement('a')\n                link.href = origin.href\n                link.target = '_blank'\n                link.rel = 'noopener noreferrer'\n                link.style.display = 'none'\n                document.body.appendChild(link)\n                link.click()\n                setTimeout(() => {\n                    try {\n                        document.body.removeChild(link)\n                    } catch (e) {}\n                }, 100)\n                console.log('[hookClick main] âœ“ ä½¿ç”¨ <a> æ ‡ç­¾æ‰“å¼€æ–°æ ‡ç­¾é¡µ')\n            } catch (e) {\n                console.error('[hookClick main] <a> æ ‡ç­¾å¤±è´¥ï¼Œé™çº§å¤„ç†:', e)\n                safeNavigate(origin.href)\n            }\n        }\n    } else {\n        console.log('[hookClick main] ä¸å¤„ç†æ­¤ç‚¹å‡»')\n    }\n}\n\n// ========== åˆå§‹åŒ– ==========\n\n// 1. é‡å†™ä¸»åº”ç”¨çš„ window.open\noverrideWindowOpen(window, document, 'main')\n\n// 2. ç›‘å¬ç‚¹å‡»äº‹ä»¶\ndocument.addEventListener('click', hookClick, { capture: true })\n\n// 3. å¯åŠ¨ iframe ç›‘å¬\nlet iframeHookController = null\n\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n        iframeHookController = hookAllIframes()\n        console.log('[è¯Šæ–­] é¡µé¢ URL:', window.location.href)\n    })\n} else {\n    iframeHookController = hookAllIframes()\n    console.log('[è¯Šæ–­] é¡µé¢ URL:', window.location.href)\n}\n\nconsole.log('[åˆå§‹åŒ–] âœ“ å¾®å‰ç«¯è·³è½¬æ‹¦æˆªå·²å¯åŠ¨')\n\n// å¯é€‰ï¼šæä¾›æ¸…ç†å‡½æ•°ï¼ˆç”¨äºè°ƒè¯•æˆ–å¸è½½ï¼‰\nwindow.__vcCleanup = () => {\n    if (iframeHookController) {\n        iframeHookController.stop()\n    }\n    console.log('[æ¸…ç†] âœ“ å·²æ¸…ç†æ‰€æœ‰ç›‘å¬å™¨')\n}\n\n/**\n * @description è¯Šæ–­ WebView ä¸­æ–°æ ‡ç­¾é¡µæ‰“å¼€é—®é¢˜\n * @returns {void}\n */\nwindow.__vcDiagnose = () => {\n    console.log('\\n========== ğŸ” WebView æ–°æ ‡ç­¾é¡µæ‰“å¼€è¯Šæ–­ ==========\\n')\n    \n    // 1. ç¯å¢ƒæ£€æµ‹\n    console.log('1. ç¯å¢ƒä¿¡æ¯:')\n    console.log('   - User Agent:', navigator.userAgent)\n    console.log('   - WebView ç¯å¢ƒ:', isWebViewEnvironment ? 'æ˜¯' : 'å¦')\n    console.log('   - åœ¨ iframe ä¸­:', window.self !== window.top ? 'æ˜¯' : 'å¦')\n    console.log('')\n    \n    // 2. åŸç”Ÿ API æ£€æµ‹\n    console.log('2. åŸç”Ÿ API å¯ç”¨æ€§:')\n    console.log('   - Pake API:', typeof window.pake !== 'undefined' ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨')\n    console.log('   - Tauri API:', typeof window.__TAURI__ !== 'undefined' ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨')\n    console.log('   - å¾®ä¿¡å°ç¨‹åº:', typeof wx !== 'undefined' && wx.miniProgram ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨')\n    console.log('   - JSBridge:', typeof window.bridge !== 'undefined' ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨')\n    console.log('   - åŸç”Ÿ window.open:', typeof originalWindowOpen === 'function' ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨')\n    console.log('')\n    \n    // 3. iframe çŠ¶æ€\n    const iframes = document.querySelectorAll('iframe')\n    console.log('3. iframe çŠ¶æ€:')\n    console.log(`   - iframe æ•°é‡: ${iframes.length}`)\n    iframes.forEach((iframe, index) => {\n        try {\n            const canAccess = !!iframe.contentDocument\n            const isOverridden = iframe.contentWindow && iframe.contentWindow.__vcOpenOverridden\n            console.log(`   - iframe-${index}:`, {\n                src: iframe.src || '(æ—  src)',\n                è·¨åŸŸ: canAccess ? 'å¦' : 'æ˜¯',\n                å·²é‡å†™: isOverridden ? 'æ˜¯' : 'å¦'\n            })\n        } catch (e) {\n            console.log(`   - iframe-${index}: (æ— æ³•è®¿é—®ï¼Œå¯èƒ½è·¨åŸŸ)`)\n        }\n    })\n    console.log('')\n    \n    // 4. æµ‹è¯•å»ºè®®\n    console.log('4. æµ‹è¯•æ–¹æ³•:')\n    console.log('   æ–¹å¼1: åœ¨æ§åˆ¶å°è¿è¡Œä»¥ä¸‹ä»£ç æµ‹è¯•:')\n    console.log('   ```')\n    console.log('   window.open(\"https://www.baidu.com\", \"_blank\")')\n    console.log('   ```')\n    console.log('')\n    console.log('   æ–¹å¼2: åˆ›å»ºæµ‹è¯•é“¾æ¥:')\n    console.log('   ```')\n    console.log('   const link = document.createElement(\"a\")')\n    console.log('   link.href = \"https://www.baidu.com\"')\n    console.log('   link.target = \"_blank\"')\n    console.log('   link.textContent = \"æµ‹è¯•æ–°æ ‡ç­¾é¡µ\"')\n    console.log('   document.body.appendChild(link)')\n    console.log('   ```')\n    console.log('')\n    \n    // 5. å¸¸è§é—®é¢˜\n    console.log('5. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ:')\n    console.log('   âŒ é—®é¢˜: WebView ä¸­æ— æ³•æ‰“å¼€æ–°æ ‡ç­¾é¡µ')\n    console.log('   âœ… è§£å†³:')\n    console.log('      - æ£€æŸ¥æ˜¯å¦æœ‰åŸç”Ÿ APIï¼ˆPake/Tauri/JSBridgeï¼‰')\n    console.log('      - å¦‚æœæ²¡æœ‰ï¼Œä¼šé™çº§åœ¨å½“å‰çª—å£è·³è½¬')\n    console.log('      - å»ºè®®è”ç³» WebView æä¾›æ–¹æ·»åŠ æ‰“å¼€æ–°æ ‡ç­¾é¡µçš„ API')\n    console.log('')\n    console.log('   âŒ é—®é¢˜: iframe å†…é“¾æ¥ç‚¹å‡»æ— å“åº”')\n    console.log('   âœ… è§£å†³:')\n    console.log('      - æ£€æŸ¥ iframe æ˜¯å¦è·¨åŸŸï¼ˆè·¨åŸŸæ— æ³•æ³¨å…¥è„šæœ¬ï¼‰')\n    console.log('      - æŸ¥çœ‹ iframe çš„ __vcOpenOverridden æ ‡è®°')\n    console.log('      - æ£€æŸ¥æ§åˆ¶å°æ—¥å¿—ä¸­çš„ [hookClick] è¾“å‡º')\n    console.log('')\n    \n    console.log('========== è¯Šæ–­å®Œæˆ ==========\\n')\n    console.log('ğŸ’¡ æç¤º: å¦‚éœ€æµ‹è¯•ï¼Œå¯åœ¨æ§åˆ¶å°è¿è¡Œ window.open(\"https://www.baidu.com\", \"_blank\")')\n}\n\nconsole.log('ğŸ’¡ æç¤º: è¿è¡Œ window.__vcDiagnose() å¯è¯Šæ–­ WebView æ–°æ ‡ç­¾é¡µæ‰“å¼€é—®é¢˜')\n\n","isHtml":false,"htmlPath":"","htmlFiles":[],"prefix":"","pcRepo":"PakePlus-v2.1.3","iosRepo":"PakePlus-iOS-v2.1.3","androidRepo":"PakePlus-Android-v2.1.3","more":{"windows":{"label":"ffcfccfcacfc","title":"æ°‘å•†èˆªå¤©åº”ç”¨","url":"http://223.70.92.38:28080/main-app/dashboard","userAgent":"Mozilla/5.0 (Linux; Android 14; Pixel 6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Mobile Safari/537.36","width":915,"height":412,"theme":null,"resizable":true,"fullscreen":false,"maximized":false,"minWidth":400,"minHeight":300,"maxWidth":1920,"maxHeight":1080,"decorations":true,"transparent":false,"titleBarStyle":"Visible","visible":true,"focus":true,"closable":true,"minimizable":true,"maximizable":true,"alwaysOnTop":false,"alwaysOnBottom":false,"center":false,"shadow":true,"skipTaskbar":false,"tabbingIdentifier":null,"parent":null,"dragDropEnabled":true,"browserExtensionsEnabled":false,"devtools":true,"contentProtected":false,"hiddenTitle":false,"incognito":false,"proxyUrl":null,"useHttpsScheme":false,"zoomHotkeysEnabled":false,"acceptFirstMouse":false,"create":false,"backgroundColor":null,"backgroundThrottling":null,"javascriptDisabled":false}},"phone":{"safeArea":{"top":0,"bottom":0,"left":0,"right":0},"header":{"show":false,"title":"","backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","loading":false,"toolBar":false,"toolBarBackgroundColor":"","toolBarColor":"","toolBarFontSize":16,"toolBarFontWeight":"bold"},"siderMenu":{"show":false,"width":0,"backgroundColor":"","color":"","fontSize":16,"fontWeight":"bold","title":"","titleColor":"","titleFontSize":16,"titleFontWeight":"bold"},"tabBar":{"show":false,"backgroundColor":"","color":"","activeColor":"","fontSize":16,"fontWeight":"bold","tabBarItem":[]},"webview":{"userAgent":"","javaScriptEnabled":true,"domStorageEnabled":true,"allowFileAccess":true,"loadWithOverviewMode":true,"setSupportZoom":true,"clearCache":true}},"ios":{"name":"ffcfccfcacfc","showName":"æ°‘å•†èˆªå¤©åº”ç”¨","version":"1.2.6","webUrl":"http://223.70.92.38:28080/main-app/dashboard","id":"com.hgd.app.ios","icon":"./app-icon.png","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":false,"debug":true,"safeArea":"all"},"android":{"name":"ffcfccfcacfc","showName":"æ°‘å•†èˆªå¤©åº”ç”¨","version":"1.2.6","webUrl":"http://223.70.92.38:28080/main-app/dashboard","id":"com.hgd.app.android","icon":"./app-icon.png","input":"./app-icon.png","output":"./res","rounded":true,"copyTo":"./app/src/main/res","androidResDir":"./app/src/main/res","desc":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","pubBody":"Package for personal use only, please do not use for commercial purposesï¼ˆæ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼‰","isHtml":false,"debug":true,"safeArea":"all"},"desktop":{"name":"ffcfccfcacfc","showName":"æ°‘å•†èˆªå¤©åº”ç”¨","version":"1.2.6","id":"com.hgd.app.desktop","desc":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","webUrl":"http://223.70.92.38:28080/main-app/dashboard","iconPath":"../app-icon.png","inputPath":"../app-icon.png","tempPath":"./processed-image.png","icnsPath":"../src-tauri/icons/icon.icns","pubBody":"æ‰“åŒ…ä»…é™ä¸ªäººä½¿ç”¨ï¼Œè¯·å‹¿ä¼ æ’­æˆ–å•†ä¸šç”¨é€”ï¼Œå¦åˆ™åæœè‡ªè´Ÿ","isHtml":false,"single":true,"state":true,"injectJq":false,"tauriApi":false,"buildMethod":"local","debug":true}}